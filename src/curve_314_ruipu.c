#include <stdint.h>
#include <stdlib.h>
#include "curve.h"
#include "sox_config.h"


#if CFG_SOX_CELL_TYPE == 2


const uint16_t s_cap_list_chg[TEMP_POINT_NUM][CUR_POINT_NUM] = {
    /*  0.1C             0.2 C                0.3 C                0.4 C                0.5C*/
    [0][0] = 1460,      [0][1] = 1340,      [0][2] = 1220,          [0][3] = 1100,      [0][4] = 1000,                       // -15
    [1][0] = 2350,      [1][1] = 2170,      [1][2] = 2000,          [1][3] = 1850,      [1][4] = 1700,                       // - 5
    [2][0] = 2905,      [2][1] = 2860,      [2][2] = 2820,          [2][3] = 2780,      [2][4] = 2740,                       //   5
    [3][0] = 3120,      [3][1] = 3107,      [3][2] = 3061,          [3][3] = 3051,      [3][4] = 3041,                       //  15
    [4][0] = 3177,      [4][1] = 3158,      [4][2] = 3144,          [4][3] = 3136,      [4][4] = 3127,                       //  25    
    [5][0] = 3188,      [5][1] = 3173,      [5][2] = 3163,          [5][3] = 3159,      [5][4] = 3154,                       //  35
    [6][0] = 3182,      [6][1] = 3169,      [6][2] = 3160,          [6][3] = 3156,      [6][4] = 3150,                       //  45
    [7][0] = 3180,      [7][1] = 3180,      [7][2] = 3180,          [7][3] = 3180,      [7][4] = 3180,                       //  55

};

const uint16_t s_cap_list_dsg[TEMP_POINT_NUM][CUR_POINT_NUM] = {
    /*  0.1C             0.2 C                0.3 C                0.4 C                    0.5C*/
    [0][0] = 1460,      [0][1] = 1340,      [0][2] = 1220,      [0][3] = 1100,              [0][4] = 1000,                       // -15
    [1][0] = 2387,      [1][1] = 2171,      [1][2] = 2000,      [1][3] = 1850,              [1][4] = 1700,                       // - 5
    [2][0] = 2924,      [2][1] = 2864,      [2][2] = 2804,      [2][3] = 2784,              [2][4] = 2759,                       //   5
    [3][0] = 3128,      [3][1] = 3060,      [3][2] = 3014,      [3][3] = 3042,              [3][4] = 3041,                       //  15
    [4][0] = 3163,      [4][1] = 3143,      [4][2] = 3128,      [4][3] = 3116,              [4][4] = 3106,                       //  25    
    [5][0] = 3173,      [5][1] = 3160,      [5][2] = 3152,      [5][3] = 3145,              [5][4] = 3139,                       //  35
    [6][0] = 3166,      [6][1] = 3155,      [6][2] = 3148,      [6][3] = 3142,              [6][4] = 3135,                   	 //  45
    [7][0] = 3180,      [7][1] = 3180,      [7][2] = 3180,      [7][3] = 3180,              [7][4] = 3180,                       //  55
};

const uint16_t temp_ocv_25[OCV_POINT_NUM] = {2925, 3179, 3208, 3230, 3253, 3269, 3281, 3287, 3288, 3289, 3291, 3298, 3310, 3321, 3325, 3326, 3330, 3336, 3339, 3340, 3353};

const uint16_t * temp_ocv[TEMP_POINT_NUM] = {
    [0] = NULL,         // -15
    [1] = NULL,         // - 5
    [2] = NULL,         //   5
    [3] = NULL,         //  15
    [4] = temp_ocv_25,  //  25    
    [5] = NULL,         //  35
    [6] = NULL,         //  45
    [7] = NULL,         //  55
};




/**********************************************************************************************************************
 *                                                      5 degree                                       
 **********************************************************************************************************************/
  /****************************************************************************
   *                 0.1 c
   ****************************************************************************/
//5dregree 0.1c charge
static const uint16_t v_5d1c_chg[SOC_POINT_NUM] = {        
    3217, 3287, 3290, 3293, 3296, 3300, 3326, 3347, 3358, 3360, 3361, 3362, 3363, 3367, 3374, 3381, 3386, 3390, 3395, 3399, 3405, 3412, 3424, 3445, 3451, 3460, 3474, 3499, 3576
};
static const int16_t k_5d1c_chg[SOC_POINT_NUM] = {
    700, 365, 30, 30, 35, 45, 50, 35, 10, 2, 2, 2, 5, 10, 15, 15, 10, 5, 10, 10, 10, 15, 30, 60, 75, 115, 195, 510, 770
};
//5dregree 0.1c discharge
static const uint16_t v_5d1c_dsg[SOC_POINT_NUM] = {  
    2962, 3008, 3044, 3070, 3089, 3103, 3145, 3170, 3188, 3200, 3209, 3216, 3222, 3227, 3231, 3236, 3240, 3245, 3252, 3258, 3264, 3268, 3271, 3272, 3273, 3274, 3275, 3276, 3314
};
static const int16_t k_5d1c_dsg[SOC_POINT_NUM] = {
    460, 410, 310, 225, 165, 125, 65, 40, 25, 20, 20, 15, 10, 5, 10, 5, 10, 15, 15, 15, 10, 5, 5, 5, 5, 5, 10, 200, 380
};

  /****************************************************************************
   *                 0.2 c
   ****************************************************************************/
//5dregree 0.2c charge
// static const uint16_t v_5d2c_chg[SOC_POINT_NUM] = {        

// };
// static const int16_t k_5d2c_chg[SOC_POINT_NUM] = {

// };
//5dregree 0.2c discharge
static const uint16_t v_5d2c_dsg[SOC_POINT_NUM] = {  
    2963, 2998, 3026, 3048, 3065, 3078, 3119, 3144, 3161, 3173, 3182, 3190, 3196, 3201, 3206, 3211, 3215, 3220, 3224, 3225, 3226, 3227, 3228, 3229, 3230, 3231, 3232, 3233, 3318
};
static const int16_t k_5d2c_dsg[SOC_POINT_NUM] = {
    350, 315, 250, 195, 150, 120, 60, 40, 30, 20, 15, 15, 10, 10, 10, 10, 5, 10, 10, 5, 2, 2, 1, 1, 1, 1, 5, 480, 940
};



/**********************************************************************************************************************
 *                                                      15 degree                                       
 **********************************************************************************************************************/
  /****************************************************************************
   *                 0.1 c
   ****************************************************************************/
//15dregree 0.1c charge
static const uint16_t v_15d1c_chg[SOC_POINT_NUM] = {
    3028, 3115, 3167, 3208, 3239, 3257, 3271, 3297, 3320, 3338, 3342, 3343, 3345, 3348, 3352, 3359, 3371, 3381, 3385, 3388, 3392, 3397, 3406, 3426, 3434, 3444, 3460, 3488, 3557,
};
static const int16_t k_15d1c_chg[SOC_POINT_NUM] = {
    870, 695, 465, 360, 245, 105,  40,  55,  40,  20,   2,   2,   5,  10, 10,  15,  30,  10,   5,  10,  10,  15,  25,  70,  90, 130, 220, 485, 690,
};
//15dregree 0.1c discharge
static const uint16_t v_15d1c_dsg[SOC_POINT_NUM] = {  
    2929, 2993, 3041, 3078, 3102, 3117, 3148, 3177, 3200, 3216, 3227, 3235, 3241, 3245, 3248, 3252, 3256, 3264, 3274, 3282, 3287, 3289, 3290, 3291, 3292, 3293, 3297, 3313, 3374,
};
static const int16_t k_15d1c_dsg[SOC_POINT_NUM] = {
    640, 560, 425, 305, 195, 120,  45,  50,  40,  25,  20,  15,  10,  10,   5,   5,  15,  20,  20,  10,  10,   5,   2,   5,  10,  25, 100, 385, 610,
};

 /*****************************************************************************
  *                 0.2 c
  *****************************************************************************/
//15dregree 0.2c charge
static const uint16_t v_15d2c_chg[SOC_POINT_NUM] = {        
    2999, 3108, 3167, 3212, 3247, 3273, 3293, 3318, 3341, 3358, 3363, 3365, 3366, 3370, 3375, 3383, 3391, 3398, 3404, 3409, 3416, 3424, 3436, 3460, 3469, 3481, 3497, 3524, 3573,
};
static const int16_t k_15d2c_chg[SOC_POINT_NUM] = {
    1090,  840,  520,  400,  305,  175,   35,   55,   40,   20,    2,    5,   5,   10,   10,   15,   15,   10,   10,   10,   15,   20,   30,   80, 105,  140,  215,  380,  490,
};
//15dregree 0.2c discharge
static const uint16_t v_15d2c_dsg[SOC_POINT_NUM] = {        
    2915, 2965, 3003, 3031, 3052, 3068, 3113, 3145, 3169, 3185, 3197, 3206, 3213, 3219, 3224, 3229, 3234, 3241, 3248, 3255, 3261, 3264, 3266, 3267, 3267, 3268, 3270, 3276, 3316,
};
static const int16_t k_15d2c_dsg[SOC_POINT_NUM] = {
    500, 440, 330, 245, 185, 140,  65,  60,  40,  25,  20,  20,  10,  10,  10,  10,  15,  15,  15,  15,  10,   5,   5,   5,   5,  10,  40, 230, 400,
};

 /*****************************************************************************
  *                 0.3 c
  *****************************************************************************/
//15dregree 0.3c charge
static const uint16_t v_15d3c_chg[SOC_POINT_NUM] = {        
    3084, 3177, 3226, 3263, 3290, 3302, 3317, 3341, 3362, 3376, 3380, 3382, 3384, 3388, 3393, 3399, 3406, 3413, 3419, 3425, 3433, 3442, 3457, 3484, 3493, 3505, 3521, 3544, 3583,
};
static const int16_t k_15d3c_chg[SOC_POINT_NUM] = {
    930, 710, 430, 320, 195,  80,  40,  50,  35,  15,   2,   5,  10,  10,  10,  15,  15,  15,  10,  15,  15,  25,  35,  85, 105, 140, 195, 310, 390,
};
//15dregree 0.3c discharge
static const uint16_t v_15d3c_dsg[SOC_POINT_NUM] = {        
    2923, 2960, 2988, 3011, 3030, 3044, 3093, 3125, 3148, 3165, 3177, 3186, 3194, 3200, 3206, 3212, 3218, 3224, 3230, 3236, 3241, 3244, 3246, 3247, 3248, 3249, 3250, 3253, 3290,
};
static const int16_t k_15d3c_dsg[SOC_POINT_NUM] = {
    370, 325, 255, 210, 165, 135,  70,  55,  40,  25,  20,  20,  15,  15,  10,  10,  10,  10,  10,  10,   5,   5,   5,   2,   2,   5,  35, 215, 370,
}; 

/******************************************************************************
 *                 0.4 c
 ******************************************************************************/
//15dregree 0.4c charge
// static const uint16_t v_15d4c_chg[SOC_POINT_NUM] = {        

// };
// static const int16_t k_15d4c_chg[SOC_POINT_NUM] = {

// };
//15dregree 0.4c discharge
static const uint16_t v_15d4c_dsg[SOC_POINT_NUM] = {        
    2920, 2951, 2975, 2996, 3013, 3027, 3075, 3106, 3129, 3146, 3159, 3169, 3178, 3185, 3191, 3197, 3202, 3208, 3212, 3216, 3220, 3222, 3223, 3224, 3225, 3226, 3227, 3241, 3314,
};
static const int16_t k_15d4c_dsg[SOC_POINT_NUM] = {
    310, 275, 225, 190, 155, 135,  75,  50,  40,  25,  25,  20,  15,  10,  10,  10,  15,  10,  10,   5,   5,   5,   2,  2,   5,  25,  95, 440, 730,
};
 
  /****************************************************************************
   *                 0.5 c
   ****************************************************************************/
//15dregree 0.5c charge
// static const uint16_t v_15d5c_chg[SOC_POINT_NUM] = {        

// };
// static const int16_t k_15d5c_chg[SOC_POINT_NUM] = {

// };
//15dregree 0.5c discharge
static const uint16_t v_15d5c_dsg[SOC_POINT_NUM] = {        
    2935, 2961, 2983, 3001, 3017, 3030, 3074, 3102, 3123, 3139, 3151, 3161, 3169, 3176, 3182, 3188, 3192, 3197, 3201, 3204, 3206, 3207, 3208, 3209, 3210, 3211, 3212, 3221, 3294,
};
static const int16_t k_15d5c_dsg[SOC_POINT_NUM] = {
    260, 240, 200, 170, 145, 120,  70,  45,  35,  30,  25,  20,  15,  15,  15,  10,  10,  10,   5,  10,   2,   2,  2,  2,   5,  20,  85, 435, 730,
};
 


 



/**********************************************************************************************************************
 *                                                      25 degree                                       
 **********************************************************************************************************************/
  /****************************************************************************
   *                 0.1 c
   ****************************************************************************/
//25dregree 0.1c charge
static const uint16_t v_25d1c_chg[SOC_POINT_NUM] = {        
    2879, 3006, 3081, 3137, 3181, 3216, 3253, 3276, 3302, 3322, 3331, 3333, 3334, 3337, 3340, 3345, 3353, 3369, 3373, 3374, 3376, 3379, 3384, 3397, 3402, 3410, 3423, 3447, 3519,
};
static const int16_t k_25d1c_chg[SOC_POINT_NUM] = {
    1270, 1010,  655,  500,  395,  300,   25,   60,   40,   30,    5,    5,    5,   10,    5,   10,   20,   25,    5,    5,    5,    5,   10,   45,   65,  105,  185,  480,  720,
};
//25dregree 0.1c discharge
static const uint16_t v_25d1c_dsg[SOC_POINT_NUM] = {  
   2945, 3014, 3067, 3109, 3139, 3154, 3172, 3198, 3220, 3234, 3248, 3256, 3261, 3264, 3266, 3268, 3272, 3282, 3294, 3301, 3303, 3305, 3306, 3306, 3306, 3308, 3317, 3346, 3436,      
};
static const int16_t k_25d1c_dsg[SOC_POINT_NUM] = {
    690, 610, 475, 360, 225, 105,  30,  45,  35,  25,  20,  10,   5,   5,   5,  10,  10,  25,  20,   5,   5,   2,   2,   2,  10,  55, 190, 595, 900,
};

  /****************************************************************************
   *                 0.2 c
   ****************************************************************************/
//25dregree 0.2c charge
static const uint16_t v_25d2c_chg[SOC_POINT_NUM] = {        
    2914, 3036, 3107, 3160, 3201, 3235, 3268, 3291, 3317, 3336, 3344, 3346, 3347, 3350, 3353, 3359, 3368, 3381, 3385, 3388, 3390, 3395, 3402, 3418, 3424, 3433, 3446, 3470, 3531,
};
static const int16_t k_25d2c_chg[SOC_POINT_NUM] = {
    1220,  965,  620,  470,  375,  275,   30,   60,   45,   25,   10,    2,    5,    5,    5,   10,   25,   15,    5,    5,    5,   10,   20,   55,   75,  110,  185,  425,  610,
};
//25dregree 0.2c discharge
static const uint16_t v_25d2c_dsg[SOC_POINT_NUM] = {  
   2942, 3007, 3056, 3094, 3119, 3132, 3155, 3181, 3203, 3217, 3229, 3237, 3243, 3247, 3251, 3254, 3258, 3265, 3275, 3282, 3287, 3289, 3290, 3291, 3292, 3293, 3297, 3318, 3386,      
};
static const int16_t k_25d2c_dsg[SOC_POINT_NUM] = {
    650, 570, 435, 315, 190, 100,  30,  50,  35,  25,  20,  15,  10,  10,   5,  10,  10,  20,  20,  15,   5,   2,   2,   2,   5,  35, 135, 445, 680,
};

 /*****************************************************************************
  *                 0.3 c
  *****************************************************************************/
//25dregree 0.3c charge
static const uint16_t v_25d3c_chg[SOC_POINT_NUM] = {        
    2948, 3065, 3131, 3182, 3221, 3253, 3281, 3305, 3329, 3348, 3356, 3357, 3359, 3362, 3366, 3372, 3382, 3391, 3395, 3399, 3403, 3408, 3417, 3435, 3442, 3451, 3465, 3489, 3545,
};
static const int16_t k_25d3c_chg[SOC_POINT_NUM] = {
    1170,  915,  585,  450,  355,  245,   35,   55,   40,   25,    5,    5,    5,   10,   10,   15,   25,   15,    5,   10,   10,   15,   20,   60,   80,  115,  190,  400,  560,
};
//25dregree 0.3c discharge
static const uint16_t v_25d3c_dsg[SOC_POINT_NUM] = {        
    2937, 2997, 3043, 3078, 3101, 3114, 3140, 3167, 3188, 3202, 3213, 3222, 3228, 3233, 3238, 3242, 3246, 3252, 3260, 3267, 3272, 3275, 3276, 3277, 3278, 3279, 3281, 3298, 3360,
};
static const int16_t k_25d3c_dsg[SOC_POINT_NUM] = {
    600, 530, 405, 290, 180, 105,  40,  50,  35,  25,  20,  15,  15,   5,  10,  10,  10,  15,  20,  15,  10,   5,   2,   2,   5,  25, 105, 395, 620,
};


 /*****************************************************************************
  *                 0.4 c
  *****************************************************************************/
//25dregree 0.4c charge
static const uint16_t v_25d4c_chg[SOC_POINT_NUM] = {        
    2974, 3089, 3153, 3201, 3239, 3269, 3294, 3318, 3341, 3359, 3366, 3368, 3370, 3373, 3377, 3383, 3392, 3399, 3404, 3409, 3414, 3420, 3429, 3449, 3456, 3465, 3479, 3503, 3552,
};
static const int16_t k_25d4c_chg[SOC_POINT_NUM] = {
    1150,  895,  560,  430,  340,  220,   35,   55,   45,   25,    5,    2,    5,    5,   10,   15,   15,   10,   10,   10,   15,   15,   25,   65,   80,  115,  190,  365,  490,
};
//25dregree 0.4c discharge
static const uint16_t v_25d4c_dsg[SOC_POINT_NUM] = {        
    2936, 2993, 3035, 3066, 3087, 3100, 3129, 3155, 3175, 3190, 3201, 3210, 3217, 3222, 3227, 3232, 3236, 3242, 3248, 3255, 3259, 3262, 3263, 3264, 3265, 3266, 3267, 3281, 3340,
};
static const int16_t k_25d4c_dsg[SOC_POINT_NUM] = {
    570, 495, 365, 260, 170, 110,  45,  45,  35,  25,  20,  15,  15,  10,  10,  10,  10,  15,  15,  15,  10,   2,   2,   2,   2,  20,  90, 365, 590,
};

 /*****************************************************************************
  *                 0.5 c
  *****************************************************************************/
//25dregree 0.5c charge
static const uint16_t v_25d5c_chg[SOC_POINT_NUM] = {        
    2995, 3108, 3171, 3218, 3255, 3283, 3307, 3330, 3353, 3370, 3376, 3378, 3380, 3383, 3388, 3394, 3401, 3407, 3413, 3418, 3423, 3430, 3441, 3461, 3468, 3478, 3493, 3516, 3562,
};
static const int16_t k_25d5c_chg[SOC_POINT_NUM] = {
    1130,  880,  550,  420,  325,  205,   30,   50,   40,   25,   10,    5,    5,    5,   10,   10,   10,   15,   10,   10,   15,   15,   25,   65,   85,  125,  190,  345,  460,
};
//25dregree 0.5c discharge
static const uint16_t v_25d5c_dsg[SOC_POINT_NUM] = {        
    2934, 2987, 3027, 3055, 3074, 3087, 3120, 3144, 3164, 3179, 3190, 3199, 3206, 3212, 3217, 3222, 3227, 3231, 3237, 3243, 3247, 3249, 3250, 3251, 3252, 3253, 3254, 3267, 3322,
};
static const int16_t k_25d5c_dsg[SOC_POINT_NUM] = {        
    530, 465, 340, 235, 160, 115,  45,  50,  35,  25,  20,  15,  10,  10,  10,  10,   5,  10,  10,   5,   5,   2,   2,   2,   5,  20,  80, 340, 550,
};



/**********************************************************************************************************************
 *                                                      35 degree                                       
 **********************************************************************************************************************/
  /****************************************************************************
   *                 0.1 c
   ****************************************************************************/
//35dregree 0.1c charge
static const uint16_t v_35d1c_chg[SOC_POINT_NUM] = {        
    2854, 2983, 3062, 3120, 3165, 3201, 3244, 3265, 3293, 3314, 3325, 3328, 3330, 3333, 3335, 3338, 3344, 3361, 3366, 3367, 3368, 3370, 3372, 3379, 3382, 3387, 3397, 3418, 3499,
};
static const int16_t k_35d1c_chg[SOC_POINT_NUM] = {
    1290, 1040,  685,  515,  405,  315,   20,   65,   40,   30,   15,    2,    5,    5,    5,    5,   15,   40,    2,    2,    2,    5,    5,   25,   40,   75,  155,  510,  810,
};
//35dregree 0.1c discharge
static const uint16_t v_35d1c_dsg[SOC_POINT_NUM] = {  
   2946, 3018, 3072, 3115, 3147, 3165, 3180, 3205, 3227, 3241, 3257, 3266, 3270, 3272, 3274, 3276, 3280, 3292, 3305, 3309, 3311, 3312, 3313, 3314, 3314, 3317, 3330, 3369, 3489,     
};
static const int16_t k_35d1c_dsg[SOC_POINT_NUM] = {
    720,  630,  485,  375,  250,  120,   20,   40,   35,   30,   25,   10,   10,    2,    5,    5,   15,   40,   15,    5,    2,    5,    2,    2,   15,   80,  260,  795, 1200,
};

  /****************************************************************************
   *                 0.2 c
   ****************************************************************************/
//35dregree 0.2c charge
static const uint16_t v_35d2c_chg[SOC_POINT_NUM] = {        
    2887, 3009, 3084, 3139, 3182, 3217, 3256, 3278, 3305, 3325, 3335, 3338, 3340, 3342, 3346, 3350, 3357, 3371, 3376, 3377, 3379, 3382, 3385, 3396, 3400, 3407, 3418, 3441, 3511,
};
static const int16_t k_35d2c_chg[SOC_POINT_NUM] = {
    1220,  985,  650,  490,  390,  300,   25,   60,   45,   30,   10,    2,    5,    5,    5,   10,   20,   25,    2,    5,    2,    5,   15,   40,   55,   90,  170,  465,  700,
};
//35dregree 0.2c discharge
static const uint16_t v_35d2c_dsg[SOC_POINT_NUM] = {        
    2946, 3014, 3066, 3108, 3138, 3152, 3169, 3194, 3216, 3230, 3244, 3253, 3258, 3261, 3263, 3266, 3270, 3278, 3290, 3296, 3299, 3301, 3302, 3302, 3302, 3304, 3315, 3347, 3442,
};
static const int16_t k_35d2c_dsg[SOC_POINT_NUM] = {
    680, 600, 470, 360, 220, 105,  25,  50,  35,  30,  25,  15,   5,   5,   5,   5,  10,  25,  20,  10,   5,   2,   2,   2,  10,  65, 215, 635, 950,
};
 /*****************************************************************************
  *                 0.3 c
  *****************************************************************************/
//35dregree 0.3c charge
static const uint16_t v_35d3c_chg[SOC_POINT_NUM] = {        
    2910, 3030, 3101, 3155, 3197, 3231, 3267, 3288, 3315, 3334, 3345, 3347, 3349, 3352, 3356, 3360, 3368, 3381, 3385, 3387, 3389, 3393, 3398, 3410, 3415, 3423, 3435, 3457, 3523,
};
static const int16_t k_35d3c_chg[SOC_POINT_NUM] = {
    1200,  955,  625,  480,  380,  285,   25,   55,   45,   30,   15,    5,    5,   10,    5,   15,   20,   20,    5,    5,    5,    5,   15,   40,   65,  100,  170,  440,  660,
};
//35dregree 0.3c discharge
static const uint16_t v_35d3c_dsg[SOC_POINT_NUM] = {        
    2942, 3008, 3059, 3099, 3127, 3140, 3159, 3184, 3205, 3219, 3232, 3240, 3246, 3250, 3254, 3257, 3260, 3267, 3277, 3284, 3288, 3290, 3291, 3291, 3291, 3293, 3302, 3331, 3416,
};
static const int16_t k_35d3c_dsg[SOC_POINT_NUM] = {
    660, 585, 455, 340, 205, 100,  30,  45,  35,  30,  25,  15,  10,   5,   5,   5,   5,  20,  20,  10,   5,   2,   2,   2,  10,  55, 190, 570, 850,
};


 /*****************************************************************************
  *                 0.4 c
  *****************************************************************************/
//35dregree 0.4c charge
static const uint16_t v_35d4c_chg[SOC_POINT_NUM] = {        
    2927, 3045, 3115, 3168, 3209, 3242, 3276, 3298, 3324, 3343, 3353, 3356, 3358, 3361, 3365, 3370, 3378, 3388, 3392, 3395, 3398, 3402, 3408, 3422, 3428, 3435, 3447, 3469, 3526,
};
static const int16_t k_35d4c_chg[SOC_POINT_NUM] = {
    1180,  940,  615,  470,  370,  275,   30,   60,   40,   30,   10,    5,    5,    5,    5,   10,   20,   15,    5,    5,   10,   10,   15,   50,   65,   95,  170,  395,  570,
};
//35dregree 0.4c discharge
static const uint16_t v_35d4c_dsg[SOC_POINT_NUM] = {        
    2945, 3008, 3056, 3093, 3117, 3129, 3150, 3174, 3194, 3208, 3220, 3229, 3235, 3240, 3244, 3248, 3252, 3258, 3266, 3273, 3277, 3280, 3281, 3280, 3281, 3282, 3291, 3318, 3400,
};
static const int16_t k_35d4c_dsg[SOC_POINT_NUM] = {
    630, 555, 425, 305, 180,  95,  30,  45,  30,  25,  20,  10,  10,  10,  10,  10,  10,  15,  20,  10,  10,   5,   2,   2,  10,  50, 180, 545, 820,
};

 /*****************************************************************************
  *                 0.5 c
  *****************************************************************************/
//35dregree 0.5c charge
static const uint16_t v_35d5c_chg[SOC_POINT_NUM] = {        
    2943, 3060, 3129, 3180, 3221, 3253, 3286, 3308, 3333, 3351, 3361, 3364, 3366, 3369, 3373, 3379, 3386, 3395, 3400, 3403, 3406, 3411, 3418, 3433, 3438, 3447, 3459, 3481, 3535,
};
static const int16_t k_35d5c_chg[SOC_POINT_NUM] = {
    1170,  930,  600,  460,  365,  265,   30,   55,   40,   25,   10,    5,    5,    5,   10,   15,   15,   10,    5,    5,   10,   10,   20,   50,   70,  105,  170,  380,  540,
};
//35dregree 0.5c discharge
static const uint16_t v_35d5c_dsg[SOC_POINT_NUM] = {        
    2943, 3003, 3050, 3085, 3107, 3118, 3141, 3164, 3184, 3198, 3210, 3219, 3225, 3230, 3235, 3239, 3243, 3248, 3255, 3262, 3266, 3269, 3270, 3270, 3270, 3272, 3280, 3306, 3387,
};
static const int16_t k_35d5c_dsg[SOC_POINT_NUM] = {        
    600, 535, 410, 285, 165,  95,  35,  45,  30,  25,  20,  15,  10,   5,  10,  10,  10,  15,  15,  10,   5,   2,   2,   2,  10,  50, 170, 535, 810,
};


/**********************************************************************************************************************
 *                                                      45 degree                                       
 **********************************************************************************************************************/
  /****************************************************************************
   *                 0.1 c                                                    
   ****************************************************************************/
//45dregree 0.1c charge
static const uint16_t v_45d1c_chg[SOC_POINT_NUM] = {        
    2854, 2978, 3055, 3113, 3157, 3193, 3239, 3260, 3288, 3309, 3321, 3327, 3329, 3330, 3333, 3335, 3340, 3356, 3362, 3363, 3364, 3366, 3367, 3371, 3372, 3375, 3382, 3401, 3490,
};
static const int16_t k_45d1c_chg[SOC_POINT_NUM] = {
    1240, 1005,  675,  510,  400,  320,   20,   60,   40,   30,   25,    5,    5,    5,    5,    5,   15,   45,    2,    2,    2,    5,    5,   10,   20,   50,  130,  540,  890,
};
//45dregree 0.1c discharge
static const uint16_t v_45d1c_dsg[SOC_POINT_NUM] = {  
    2947, 3018, 3072, 3115, 3149, 3168, 3184, 3207, 3229, 3243, 3260, 3273, 3276, 3277, 3279, 3280, 3284, 3298, 3310, 3313, 3315, 3316, 3317, 3318, 3318, 3321, 3337, 3381, 3517,
};
static const int16_t k_45d1c_dsg[SOC_POINT_NUM] = {
     710,  625,  485,  385,  265,  130,   20,   45,   35,   35,   45,   10,    5,    5,    5,    5,   10,   40,   10,    2,    5,    2,    2,    2,   15,   95,  300,  900, 1360,
};

  /****************************************************************************
  *                 0.2 c
  *****************************************************************************/
//45dregree 0.2c charge
static const uint16_t v_45d2c_chg[SOC_POINT_NUM] = {        
    2879, 2999, 3073, 3129, 3172, 3207, 3249, 3270, 3298, 3319, 3331, 3335, 3337, 3340, 3342, 3345, 3351, 3365, 3371, 3372, 3373, 3375, 3378, 3384, 3387, 3392, 3401, 3422, 3498,
};
static const int16_t k_45d2c_chg[SOC_POINT_NUM] = {
    1200,  970,  650,  495,  390,  310,   25,   60,   45,   30,   25,    2,    5,    5,    5,    5,   15,   35,    2,    2,    5,    5,    5,   20,   40,   70,  150,  485,  760,
};
//45dregree 0.2c discharge
static const uint16_t v_45d2c_dsg[SOC_POINT_NUM] = {  
    2948, 3016, 3069, 3111, 3142, 3159, 3175, 3198, 3220, 3234, 3250, 3261, 3265, 3268, 3270, 3272, 3275, 3286, 3298, 3302, 3305, 3307, 3308, 3308, 3308, 3311, 3325, 3364, 3479,
};
static const int16_t k_45d2c_dsg[SOC_POINT_NUM] = {
    680,  605,  475,  365,  240,  120,   20,   45,   35,   30,   30,   10,    5,    5,    5,    2,   15,   30,   15,    5,    2,    5,    2,    2,   15,   85,  265,  770, 1150,
};
 /*****************************************************************************
  *                 0.3 c
  *****************************************************************************/
//45dregree 0.3c charge
static const uint16_t v_45d3c_chg[SOC_POINT_NUM] = {        
    2899, 3016, 3088, 3142, 3185, 3219, 3258, 3279, 3306, 3326, 3338, 3343, 3345, 3348, 3351, 3355, 3360, 3373, 3378, 3380, 3382, 3385, 3388, 3396, 3400, 3405, 3415, 3436, 3507,
};
static const int16_t k_45d3c_chg[SOC_POINT_NUM] = {
    1170,  945,  630,  485,  385,  295,   25,   60,   40,   30,   20,    2,    5,   10,   10,   10,   15,   25,    2,    5,    5,    5,   10,   30,   45,   75,  155,  460,  710,
};
//45dregree 0.3c discharge
static const uint16_t v_45d3c_dsg[SOC_POINT_NUM] = {        
    2944, 3011, 3063, 3104, 3134, 3150, 3166, 3190, 3211, 3225, 3240, 3250, 3256, 3259, 3262, 3264, 3268, 3276, 3287, 3293, 3296, 3298, 3299, 3298, 3299, 3301, 3315, 3352, 3460,
};
static const int16_t k_45d3c_dsg[SOC_POINT_NUM] = {
    670,  595,  465,  355,  230,  110,   25,   45,   35,   30,   30,   15,    5,   10,    5,    5,   10,   25,   20,   10,    5,    5,    2,    2,   15,   80,  255,  725, 1080,
};


 /*****************************************************************************
  *                 0.4 c
  *****************************************************************************/
//45dregree 0.4c charge
static const uint16_t v_45d4c_chg[SOC_POINT_NUM] = {        
	2914, 3029, 3101, 3154, 3195, 3229, 3267, 3287, 3314, 3334, 3346, 3350, 3353, 3356, 3359, 3363, 3369, 3380, 3385, 3387, 3390, 3393, 3397, 3407, 3411, 3417, 3428, 3449, 3515,
};
static const int16_t k_45d4c_chg[SOC_POINT_NUM] = {
    1150,  935,  625,  470,  375,  290,   25,   55,   40,   25,   20,    5,    5,    5,   10,   10,   15,   20,    5,    5,    5,   10,   15,   35,   50,   85,  160,  435,  660,
};
//45dregree 0.4c discharge
static const uint16_t v_45d4c_dsg[SOC_POINT_NUM] = {        
    2944, 3009, 3060, 3099, 3127, 3141, 3158, 3182, 3202, 3217, 3231, 3241, 3247, 3251, 3254, 3257, 3261, 3268, 3277, 3284, 3287, 3289, 3290, 3290, 3290, 3293, 3305, 3341, 3444,
};
static const int16_t k_45d4c_dsg[SOC_POINT_NUM] = {
    650,  580,  450,  335,  210,  100,   25,   45,   30,   30,   20,   15,   10,    5,   10,    5,   10,   20,   15,    5,    2,    5,    2,    2,   15,   75,  240,  695, 1030,
};



 /*****************************************************************************
  *                 0.5 c
  *****************************************************************************/
//45dregree 0.5c charge
static const uint16_t v_45d5c_chg[SOC_POINT_NUM] = {        
    2927, 3041, 3111, 3164, 3205, 3238, 3275, 3296, 3322, 3342, 3354, 3358, 3361, 3364, 3368, 3372, 3378, 3388, 3392, 3394, 3397, 3401, 3407, 3417, 3422, 3428, 3439, 3460, 3524,
};
static const int16_t k_45d5c_chg[SOC_POINT_NUM] = {
    1140,  920,  615,  470,  370,  285,   30,   60,   45,   25,   15,    5,    5,   10,    5,   10,   15,   15,    5,    5,    5,   10,   15,   40,   55,   85,  160,  425,  640,
};
//45dregree 0.5c discharge
static const uint16_t v_45d5c_dsg[SOC_POINT_NUM] = {        
    2942, 3005, 3054, 3092, 3118, 3131, 3150, 3173, 3194, 3208, 3222, 3231, 3237, 3242, 3246, 3250, 3254, 3260, 3268, 3274, 3278, 3280, 3282, 3282, 3282, 3284, 3296, 3331, 3429,
};
static const int16_t k_45d5c_dsg[SOC_POINT_NUM] = {        
    630, 560, 435, 320, 195, 100,  25,  45,  35,  30,  25,  15,  10,  10,   5,  10,  10,  15,  15,  10,  10,   5,   2,   2,  10,  70, 235, 665, 980,
};












































/**********************************************************************************************************************
 *                                                charge curve table 
 **********************************************************************************************************************/
const uint16_t* const s_chg_curve[TEMP_POINT_NUM][CUR_POINT_NUM]= 
{
    /*  0.1C                    0.2 C                        0.3 C                         0.4 C                            0.5C                           */
    [0][0] = v_5d1c_chg,        [0][1] = v_5d1c_chg,        [0][2] = v_5d1c_chg,        [0][3] = v_5d1c_chg,        [0][4] = v_5d1c_chg,                    // -15
    [1][0] = v_5d1c_chg,        [1][1] = v_5d1c_chg,        [1][2] = v_5d1c_chg,        [1][3] = v_5d1c_chg,        [1][4] = v_5d1c_chg,                    // -5
    [2][0] = v_5d1c_chg,        [2][1] = v_5d1c_chg,        [2][2] = v_5d1c_chg,        [2][3] = v_5d1c_chg,        [2][4] = v_5d1c_chg,                    // 5
    [3][0] = v_15d1c_chg,       [3][1] = v_15d2c_chg,       [3][2] = v_15d3c_chg,       [3][3] = v_25d4c_chg,       [3][4] = v_25d5c_chg,                   // 15
    [4][0] = v_25d1c_chg,       [4][1] = v_25d2c_chg,       [4][2] = v_25d3c_chg,       [4][3] = v_25d4c_chg,       [4][4] = v_25d5c_chg,                   // 25    
    [5][0] = v_35d1c_chg,       [5][1] = v_35d2c_chg,       [5][2] = v_35d3c_chg,       [5][3] = v_35d4c_chg,       [5][4] = v_35d5c_chg,                   // 35
    [6][0] = v_45d1c_chg,       [6][1] = v_45d2c_chg,       [6][2] = v_45d3c_chg,       [6][3] = v_45d4c_chg,       [6][4] = v_45d5c_chg,                   // 45
    [7][0] = v_45d1c_chg,       [7][1] = v_45d2c_chg,       [7][2] = v_45d3c_chg,       [7][3] = v_45d4c_chg,       [7][4] = v_45d5c_chg,                   // 55
};

const int16_t* const s_chg_curve_k[TEMP_POINT_NUM][CUR_POINT_NUM] = 
{
        /*  0.1C                0.2 C                       0.3 C                       0.4 C                        0.5 C                                   */
    [0][0] = k_5d1c_chg,        [0][1] = k_5d1c_chg,        [0][2] = k_5d1c_chg,        [0][3] = k_5d1c_chg,        [0][4] = k_5d1c_chg,                    // -15
    [1][0] = k_5d1c_chg,        [1][1] = k_5d1c_chg,        [1][2] = k_5d1c_chg,        [1][3] = k_5d1c_chg,        [1][4] = k_5d1c_chg,                    // -5
    [2][0] = k_5d1c_chg,        [2][1] = k_5d1c_chg,        [2][2] = k_5d1c_chg,       	[2][3] = k_5d1c_chg,       	[2][4] = k_5d1c_chg,                    // 5
    [3][0] = k_15d1c_chg,       [3][1] = k_15d2c_chg,       [3][2] = k_15d3c_chg,       [3][3] = k_25d4c_chg,       [3][4] = k_25d5c_chg,                   // 15
    [4][0] = k_25d1c_chg,       [4][1] = k_25d2c_chg,       [4][2] = k_25d3c_chg,       [4][3] = k_25d4c_chg,       [4][4] = k_25d5c_chg,                   // 25    
    [5][0] = k_35d1c_chg,       [5][1] = k_35d2c_chg,       [5][2] = k_35d3c_chg,       [5][3] = k_35d4c_chg,       [5][4] = k_35d5c_chg,                   // 35
    [6][0] = k_45d1c_chg,       [6][1] = k_45d2c_chg,       [6][2] = k_45d3c_chg,       [6][3] = k_45d4c_chg,       [6][4] = k_45d5c_chg,                   // 45
    [7][0] = k_45d1c_chg,       [7][1] = k_45d2c_chg,       [7][2] = k_45d3c_chg,       [7][3] = k_45d4c_chg,       [7][4] = k_45d5c_chg,                   // 55

};

/**********************************************************************************************************************
 *                   discharge curve table 
 **********************************************************************************************************************/
const uint16_t* const s_dsg_curve[TEMP_POINT_NUM][CUR_POINT_NUM] = 
{
   /*  0.1C                     0.2 C                       0.3 C                      0.4 C                             0.5C                              */
    [0][0] = v_5d1c_dsg,        [0][1] = v_5d2c_dsg,        [0][2] = v_5d2c_dsg,        [0][3] = v_5d2c_dsg,        [0][4] = v_5d2c_dsg,                    // -15
    [1][0] = v_5d1c_dsg,        [1][1] = v_5d2c_dsg,        [1][2] = v_5d2c_dsg,        [1][3] = v_5d2c_dsg,        [1][4] = v_5d2c_dsg,                    // -5
    [2][0] = v_5d1c_dsg,        [2][1] = v_5d2c_dsg,        [2][2] = v_15d3c_dsg,       [2][3] = v_15d4c_dsg,       [2][4] = v_15d5c_dsg,                   // 5
    [3][0] = v_15d1c_dsg,       [3][1] = v_15d2c_dsg,       [3][2] = v_15d3c_dsg,       [3][3] = v_15d4c_dsg,       [3][4] = v_15d5c_dsg,                   // 15
    [4][0] = v_25d1c_dsg,       [4][1] = v_25d2c_dsg,       [4][2] = v_25d3c_dsg,       [4][3] = v_25d4c_dsg,       [4][4] = v_25d5c_dsg,                   // 25    
    [5][0] = v_35d1c_dsg,       [5][1] = v_35d2c_dsg,       [5][2] = v_35d3c_dsg,       [5][3] = v_35d4c_dsg,       [5][4] = v_35d5c_dsg,                   // 35
    [6][0] = v_45d1c_dsg,       [6][1] = v_45d2c_dsg,       [6][2] = v_45d3c_dsg,       [6][3] = v_45d4c_dsg,       [6][4] = v_45d5c_dsg,                   // 45
    [7][0] = v_45d1c_dsg,       [7][1] = v_45d2c_dsg,       [7][2] = v_45d3c_dsg,       [7][3] = v_45d4c_dsg,       [7][4] = v_45d5c_dsg,                   // 55
};

const int16_t* const s_dsg_curve_k[TEMP_POINT_NUM][CUR_POINT_NUM] = 
{
    /*  0.1C                    0.2 C                           0.3 C                     0.4 C                            0.5C                               */
    [0][0] = k_5d1c_dsg,        [0][1] = k_5d2c_dsg,        [0][2] = k_5d2c_dsg,        [0][3] = k_5d2c_dsg,        [0][4] = k_5d2c_dsg,                    // -15
    [1][0] = k_5d1c_dsg,        [1][1] = k_5d2c_dsg,        [1][2] = k_5d2c_dsg,        [1][3] = k_5d2c_dsg,        [1][4] = k_5d2c_dsg,                    // -5
    [2][0] = k_5d1c_dsg,        [2][1] = k_5d2c_dsg,        [2][2] = k_15d3c_dsg,       [2][3] = k_15d4c_dsg,       [2][4] = k_15d5c_dsg,                   // 5
    [3][0] = k_15d1c_dsg,       [3][1] = k_15d2c_dsg,       [3][2] = k_15d3c_dsg,       [3][3] = k_15d4c_dsg,       [3][4] = k_15d5c_dsg,                   // 15
    [4][0] = k_25d1c_dsg,       [4][1] = k_25d2c_dsg,       [4][2] = k_25d3c_dsg,       [4][3] = k_25d4c_dsg,       [4][4] = k_25d5c_dsg,                   // 25    
    [5][0] = k_35d1c_dsg,       [5][1] = k_35d2c_dsg,       [5][2] = k_35d3c_dsg,       [5][3] = k_35d4c_dsg,       [5][4] = k_35d5c_dsg,                   // 35
    [6][0] = k_45d1c_dsg,       [6][1] = k_45d2c_dsg,       [6][2] = k_45d3c_dsg,       [6][3] = k_45d4c_dsg,       [6][4] = k_45d5c_dsg,                   // 45
    [7][0] = k_45d1c_dsg,       [7][1] = k_45d2c_dsg,       [7][2] = k_45d3c_dsg,       [7][3] = k_45d4c_dsg,       [7][4] = k_45d5c_dsg,                   // 55
};




#if SOX_CFG_H_BAT_LAW
// unit kw, interval 100 cycles                                         
const int remain_power_capability_table[6] = {
//  0     -------------------->   500
    2585, 2584, 2583, 2582, 2581, 2580

};

// unit %, interval 6 month                                        
const int remain_self_dsg_table[6] = {
    
    9,                 
    19,             // 1 year
    29,             
    39,             // 2 year
    49,             
    59              // 3 year

};

const int energy_convert_efficiency_table[6] = {
    
    9901,           // 0
    9801,           // 100      
    9751,           // 200 
    9701,           // 300    
    9651,           // 400
    9601            // 500          
};
#endif 


#endif