#include <stdint.h>
#include <stdlib.h>
#include "curve.h"

const uint16_t s_cap_list_chg[TEMP_POINT_NUM][CUR_POINT_NUM] = {
    /*  0.1C             0.2 C                0.3 C                0.4 C                    0.5C*/
    [0][0] = 1000,      [0][1] = 1000,      [0][2] = 1000,      [0][3] = 1000,      [0][4] = 1000,                          // 0
    [1][0] = 945,       [1][1] = 1000,      [1][2] = 1000,      [1][3] = 1000,      [1][4] = 1000,                          // 5
    [2][0] = 1009,      [2][1] = 969,       [2][2] = 1000,      [2][3] = 1000,      [2][4] = 1000,                          // 15
    [3][0] = 1021,      [3][1] = 1000,      [3][2] = 1006,      [3][3] = 1000,      [3][4] = 1024,                          // 25    
    [4][0] = 1000,      [4][1] = 1000,      [4][2] = 1000,      [4][3] = 1000,      [4][4] = 1000,                          // 35
    [5][0] = 1000,      [5][1] = 1000,      [5][2] = 1000,      [5][3] = 1000,      [5][4] = 1000,                          // 45
    [6][0] = 1000,      [6][1] = 1000,      [6][2] = 1000,      [6][3] = 1000,      [6][4] = 1000,                          // 55


};
const uint16_t s_cap_list_dsg[TEMP_POINT_NUM][CUR_POINT_NUM] = {
    /*  0.1C             0.2 C                0.3 C                0.4 C                    0.5C*/
    [0][0] = 1000,      [0][1] = 1000,      [0][2] = 1000,      [0][3] = 1000,      [0][4] = 1000,                          // 0
    [1][0] = 914,       [1][1] = 1000,      [1][2] = 1000,      [1][3] = 1000,      [1][4] = 1000,                          // 5
    [2][0] = 971,       [2][1] = 973,       [2][2] = 1000,      [2][3] = 1000,      [2][4] = 1000,                          // 15
    [3][0] = 1012,      [3][1] = 1000,      [3][2] = 1004,      [3][3] = 1000,      [3][4] = 983,                           // 25    
    [4][0] = 1000,      [4][1] = 1000,      [4][2] = 1000,      [4][3] = 1000,      [4][4] = 1000,                          // 35
    [5][0] = 1000,      [5][1] = 1000,      [5][2] = 1000,      [5][3] = 1000,      [5][4] = 1000,                          // 45
    [6][0] = 1000,      [6][1] = 1000,      [6][2] = 1000,      [6][3] = 1000,      [6][4] = 1000,                          // 55
};


/********************************************************************************************************************************
 *                                                      5 degree                                       
 ********************************************************************************************************************************/
  /***********************************************
  *                 0.1 c
  **********************************************/
//5dregree 0.1c charge
const uint16_t v_5d1c_chg[SOC_POINT_NUM] = {        
    3217, 3287, 3290, 3293, 3296, 3300, 3326, 3347, 3358, 3360, 3361, 3362, 3363, 3367, 3374, 3381, 3386, 3390, 3395, 3399, 3405, 3412, 3424, 3445, 3451, 3460, 3474, 3499, 3576
};
const int16_t k_5d1c_chg[SOC_POINT_NUM] = {
    700, 365, 30, 30, 35, 45, 50, 35, 10, 2, 2, 2, 5, 10, 15, 15, 10, 5, 10, 10, 10, 15, 30, 60, 75, 115, 195, 510, 770
};
//5dregree 0.1c discharge
const uint16_t v_5d1c_dsg[SOC_POINT_NUM] = {  
    2962, 3008, 3044, 3070, 3089, 3103, 3145, 3170, 3188, 3200, 3209, 3216, 3222, 3227, 3231, 3236, 3240, 3245, 3252, 3258, 3264, 3268, 3271, 3272, 3273, 3274, 3275, 3276, 3314
};
const int16_t k_5d1c_dsg[SOC_POINT_NUM] = {
    460, 410, 310, 225, 165, 125, 65, 40, 25, 20, 20, 15, 10, 5, 10, 5, 10, 15, 15, 15, 10, 5, 5, 5, 5, 5, 10, 200, 380
};


/********************************************************************************************************************************
 *                                                      15 degree                                       
 ********************************************************************************************************************************/
  /***********************************************
  *                 0.1 c
  **********************************************/
//15dregree 0.1c charge
const uint16_t v_15d1c_chg[SOC_POINT_NUM] = {        
    3059, 3149, 3195, 3231, 3254, 3261, 3278, 3304, 3326, 3340, 3342, 3343, 3344, 3346, 3349, 3356, 3369, 3377, 3380, 3383, 3386, 3391, 3398, 3412, 3417, 3424, 3435, 3458, 3562
};
const int16_t k_15d1c_chg[SOC_POINT_NUM] = {
    900, 680, 410, 295, 150, 55, 45, 55, 35, 15, 2, 2, 5, 5, 10, 20, 25, 5, 5, 10, 10, 15, 15, 45, 60, 90, 170, 635, 1040
};
//15dregree 0.1c discharge
const uint16_t v_15d1c_dsg[SOC_POINT_NUM] = {  
    2920, 2995, 3050, 3092, 3121, 3137, 3160, 3186, 3208, 3223, 3235, 3243, 3249, 3253, 3256, 3259, 3263, 3269, 3279, 3288, 3293, 3295, 3296, 3297, 3298, 3299, 3300, 3301, 3315
};
const int16_t k_15d1c_dsg[SOC_POINT_NUM] = {
    750, 650, 485, 355, 225, 120, 30, 50, 40, 25, 25, 10, 10, 10, 5, 10, 10, 15, 25, 10, 5, 5, 2, 1, 1, 1, 1, 110, 230
};

 /***********************************************
  *                 0.2 c
  **********************************************/
//15dregree 0.2c charge
const uint16_t v_15d2c_chg[SOC_POINT_NUM] = {        
    3031, 3142, 3192, 3229, 3257, 3269, 3291, 3318, 3338, 3353, 3357, 3358, 3359, 3360, 3363, 3369, 3384, 3388, 3392, 3396, 3401, 3407, 3417, 3435, 3441, 3449, 3462, 3486, 3561
};
const int16_t k_15d2c_chg[SOC_POINT_NUM] = {
    1110, 805, 435, 325, 200, 85, 50, 50, 40, 15, 5, 2, 2, 5, 10, 15, 10, 5, 10, 10, 10, 15, 25, 55, 70, 105, 185, 495, 750
};
//15dregree 0.2c discharge
const uint16_t v_15d2c_dsg[SOC_POINT_NUM] = {        
    2969, 3027, 3066, 3090, 3106, 3117, 3149, 3176, 3194, 3206, 3216, 3224, 3230, 3236, 3240, 3244, 3248, 3254, 3261, 3267, 3272, 3275, 3277, 3278, 3279, 32780, 3281, 3282, 3308
};
const int16_t k_15d2c_dsg[SOC_POINT_NUM] = {
    580, 485, 315, 200, 135, 95, 65, 45, 30, 20, 20, 10, 15, 10, 10, 10, 10, 10, 15, 10, 10, 10, 2, 2, 2, 2, 1, 150, 310
};
 



/********************************************************************************************************************************
 *                                                      25 degree                                       
 ********************************************************************************************************************************/
  /***********************************************
  *                 0.1 c
  **********************************************/
//25dregree 0.1c charge
const uint16_t v_25d1c_chg[SOC_POINT_NUM] = {        
    3026, 3113, 3163, 3202, 3232, 3246, 3258, 3285, 3308, 3325, 3331, 3332, 3333, 3335, 3338, 3343, 3354, 3369, 3372, 3374, 3376, 3378, 3382, 3390, 3393, 3397, 3404, 3420, 3531
};
const int16_t k_25d1c_chg[SOC_POINT_NUM] = {
    870, 685, 445, 345, 220, 85, 40, 60, 40, 20, 5, 5, 2, 10, 10, 15, 35, 15, 5, 5, 2, 5, 10, 25, 35, 55, 115, 635, 1110
};
//25dregree 0.1c discharge
const uint16_t v_25d1c_dsg[SOC_POINT_NUM] = {  
   2912, 2992, 3051, 3098, 3133, 3153, 3172, 3197, 3219, 3233, 3247, 3256, 3261, 3264, 3267, 3269, 3274, 3284, 3296, 3302, 3304, 3306, 3307, 3308, 3309, 3310, 3311, 3312, 3339      
};
const int16_t k_25d1c_dsg[SOC_POINT_NUM] = {
    800, 695, 530, 410, 275, 140, 20, 50, 35, 30, 25, 10, 10, 5, 5, 5, 10, 30, 20, 5, 5, 2, 2, 2, 2, 2, 2, 160, 320
};

 /***********************************************
  *                 0.3 c
  **********************************************/
//25dregree 0.3c charge
const uint16_t v_25d3c_chg[SOC_POINT_NUM] = {        
    3087, 3165, 3211, 3244, 3264, 3269, 3284, 3309, 3331, 3346, 3350, 3351, 3352, 3354, 3357, 3363, 3373, 3380, 3384, 3387, 3392, 3397, 3404, 3416, 3420, 3426, 3437, 3459, 3558
};
const int16_t k_25d3c_chg[SOC_POINT_NUM] = {
    780, 620, 395, 265, 125, 40, 40, 55, 40, 15, 5, 2, 5, 5, 10, 20, 20, 10, 5, 10, 10, 10, 15, 40, 50, 85, 165, 605, 990
};
//25dregree 0.3c discharge
const uint16_t v_25d3c_dsg[SOC_POINT_NUM] = {        
    2935, 3007, 3058, 3094, 3115, 3127, 3150, 3177, 3197, 3210, 3221, 3230, 3237, 3242, 3246, 3250, 3254, 3259, 3266, 3272, 3277, 3280, 3281, 3282, 3283, 3284, 3285, 3286, 3344
};
const int16_t k_25d3c_dsg[SOC_POINT_NUM] = {
    720, 615, 435, 285, 165, 95, 40, 45, 35, 25, 20, 15, 10, 10, 5, 10, 10, 10, 15, 10, 5, 5, 5, 2, 2, 2, 1, 310, 630
};
 /***********************************************
  *                 0.5 c
  **********************************************/
//25dregree 0.5c charge
const uint16_t v_25d5c_chg[SOC_POINT_NUM] = {        
    3047, 3156, 3206, 3244, 3274, 3289, 3305, 3329, 3350, 3365, 3369, 3370, 3372, 3374, 3378, 3384, 3391, 3396, 3399, 3403, 3408, 3414, 3422, 3439, 3445, 3453, 3465, 3487, 3549
};
const int16_t k_25d5c_chg[SOC_POINT_NUM] = {
    1090, 795, 440, 340, 225, 95, 40, 50, 35, 15, 5, 2, 5, 5, 10, 15, 10, 10, 5, 10, 15, 15, 25, 55, 70, 100, 170, 420, 620
};
//25dregree 0.5c discharge
const uint16_t v_25d5c_dsg[SOC_POINT_NUM] = {        
    2950, 3010, 3053, 3084, 3101, 3112, 3137, 3162, 3181, 3195, 3206, 3214, 3221, 3227, 3232, 3236, 3241, 3246, 3252, 3257, 3261, 3263, 3266, 3267, 3268, 3269, 3270, 3271, 3308
};
const int16_t k_25d5c_dsg[SOC_POINT_NUM] = {        
    600, 515, 370, 240, 140, 90, 40, 50, 30, 20, 15, 15, 15, 10, 10, 10, 10, 10, 15, 10, 5, 5, 5, 2, 2, 2, 5, 205, 400
};









/* ********************************************************************************************************************************
                                                 charge curve table 
************************************************************************************************************************************/
const uint16_t* s_chg_curve[TEMP_POINT_NUM][CUR_POINT_NUM]= 
{
    /*  0.1C                    0.2 C                        0.3 C                         0.4 C                            0.5C                           */
    [0][0] = NULL,              [0][1] = NULL,              [0][2] = NULL,              [0][3] = NULL,              [0][4] = NULL,                          // 0
    [1][0] = v_5d1c_chg,        [1][1] = NULL,              [1][2] = NULL,              [1][3] = NULL,              [1][4] = NULL,                          // 5
    [2][0] = v_15d1c_chg,       [2][1] = v_15d2c_chg,       [2][2] = NULL,              [2][3] = NULL,              [2][4] = NULL,                          // 15
    [3][0] = v_25d1c_chg,       [3][1] = NULL,              [3][2] = v_25d3c_chg,       [3][3] = v_25d5c_chg,       [3][4] = v_25d5c_chg,                   // 25    
    [4][0] = NULL,              [4][1] = NULL,              [4][2] = NULL,              [4][3] = NULL,              [4][4] = NULL,                          // 35
    [5][0] = NULL,              [5][1] = NULL,              [5][2] = NULL,              [5][3] = NULL,              [5][4] = NULL,                          // 45
    [6][0] = NULL,              [6][1] = NULL,              [6][2] = NULL,              [6][3] = NULL,              [6][4] = NULL,                          // 55
};

const int16_t* s_chg_curve_k[TEMP_POINT_NUM][CUR_POINT_NUM] = 
{
        /*  0.1C                0.2 C                       0.3 C                       0.4 C                        0.5 C                                   */
    [0][0] = NULL,              [0][1] = NULL,              [0][2] = NULL,              [0][3] = NULL,              [0][4] = NULL,                          // 0
    [1][0] = k_5d1c_chg,        [1][1] = NULL,              [1][2] = NULL,              [1][3] = NULL,              [1][4] = NULL,                          // 5
    [2][0] = k_15d1c_chg,       [2][1] = k_15d2c_chg,       [2][2] = NULL,              [2][3] = NULL,              [2][4] = NULL,                          // 15
    [3][0] = k_25d1c_chg,       [3][1] = NULL,              [3][2] = k_25d3c_chg,       [3][3] = k_25d5c_chg,       [3][4] = k_25d5c_chg,                   // 25    
    [4][0] = NULL,              [4][1] = NULL,              [4][2] = NULL,              [4][3] = NULL,              [4][4] = NULL,                          // 35
    [5][0] = NULL,              [5][1] = NULL,              [5][2] = NULL,              [5][3] = NULL,              [5][4] = NULL,                          // 45
    [6][0] = NULL,              [6][1] = NULL,              [6][2] = NULL,              [6][3] = NULL,              [6][4] = NULL,                          // 55

};

/* ********************************************************************************************************************************
                                                 discharge curve table 
************************************************************************************************************************************/
const uint16_t* s_dsg_curve[TEMP_POINT_NUM][CUR_POINT_NUM] = 
{
   /*  0.1C                     0.2 C                       0.3 C                      0.4 C                             0.5C                              */
    [0][0] = NULL,              [0][1] = NULL,              [0][2] = NULL,              [0][3] = NULL,              [0][4] = NULL,                          // 0
    [1][0] = v_5d1c_dsg,        [1][1] = NULL,              [1][2] = NULL,              [1][3] = NULL,              [1][4] = NULL,                          // 5
    [2][0] = v_15d1c_dsg,       [2][1] = v_15d2c_dsg,       [2][2] = NULL,              [2][3] = NULL,              [2][4] = NULL,                          // 15
    [3][0] = v_25d1c_dsg,       [3][1] = NULL,              [3][2] = v_25d5c_dsg,       [3][3] = v_25d5c_dsg,       [3][4] = v_25d5c_dsg,                   // 25    
    [4][0] = NULL,              [4][1] = NULL,              [4][2] = NULL,              [4][3] = NULL,              [4][4] = NULL,                          // 35
    [5][0] = NULL,              [5][1] = NULL,              [5][2] = NULL,              [5][3] = NULL,              [5][4] = NULL,                          // 45
    [6][0] = NULL,              [6][1] = NULL,              [6][2] = NULL,              [6][3] = NULL,              [6][4] = NULL,                          // 55
};

const int16_t* s_dsg_curve_k[TEMP_POINT_NUM][CUR_POINT_NUM] = 
{
    /*  0.1C                    0.2 C                           0.3 C                     0.4 C                            0.5C                               */
    [0][0] = NULL,              [0][1] = NULL,              [0][2] = NULL,              [0][3] = NULL,              [0][4] = NULL,                          // 0
    [1][0] = k_5d1c_dsg,        [1][1] = NULL,              [1][2] = NULL,              [1][3] = NULL,              [1][4] = NULL,                          // 5
    [2][0] = k_15d1c_dsg,       [2][1] = k_15d2c_dsg,       [2][2] = NULL,              [2][3] = NULL,              [2][4] = NULL,                          // 15
    [3][0] = k_25d1c_dsg,       [3][1] = NULL,              [3][2] = k_25d5c_dsg,       [3][3] = k_25d5c_dsg,       [3][4] = k_25d5c_dsg,                   // 25    
    [4][0] = NULL,              [4][1] = NULL,              [4][2] = NULL,              [4][3] = NULL,              [4][4] = NULL,                          // 35
    [5][0] = NULL,              [5][1] = NULL,              [5][2] = NULL,              [5][3] = NULL,              [5][4] = NULL,                          // 45
    [6][0] = NULL,              [6][1] = NULL,              [6][2] = NULL,              [6][3] = NULL,              [6][4] = NULL,                          // 55
};
